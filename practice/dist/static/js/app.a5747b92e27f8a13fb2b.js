webpackJsonp([1],[,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.i18n=t.lan=t.getParam=t.eachLines=t.transform=t.maxPoint=t.lastRecord=t.StorageKey=t.clearPoints=t.blankMatrix=t.blankLine=t.fillLine=t.delays=t.speeds=t.blockType=t.origin=t.blockShape=void 0;var o=n(23),i=a(o),r=n(183),s=a(r),u=t.blockShape={I:[[1,1,1,1]],L:[[0,0,1],[1,1,1]],J:[[1,0,0],[1,1,1]],Z:[[1,1,0],[0,1,1]],S:[[0,1,1],[1,1,0]],O:[[1,1],[1,1]],T:[[0,1,0],[1,1,1]]},l=(t.origin={I:[[-1,1],[1,-1]],L:[[0,0]],J:[[0,0]],Z:[[0,0]],S:[[0,0]],O:[[0,0]],T:[[0,0],[1,0],[-1,1],[0,-1]]},t.blockType=(0,i.default)(u),t.speeds=[1562,1250,1e3,800,640,512,410,328,262,210,167,134,107,85,68],t.delays=[20,30,40,50,60,70,70,80,90,90,100,110,120,130,140],t.fillLine=[1,1,1,1,1,1,1,1,1,1],t.blankLine=[0,0,0,0,0,0,0,0,0,0]),c=(t.blankMatrix=function(){for(var e=[],t=0;t<20;t++)e.push(l);return e}(),t.clearPoints=[100,300,700,1500],t.StorageKey="VUE_TETRIS"),f=(t.lastRecord=function(){var e=window.localStorage.getItem(c);if(!e)return!1;try{window.btoa&&(e=atob(e)),e=decodeURIComponent(e),e=JSON.parse(e)}catch(e){return(window.console||window.console.error)&&window.console.error("读取记录错误:",e),!1}return e}(),t.maxPoint=999999,t.transform=function(){var e=["transform","webkitTransform","msTransform","mozTransform","oTransform"],t=document.body;return e.filter(function(e){return void 0!==t.style[e]})[0]}(),t.eachLines=5,t.getParam=function(e){var t=new RegExp("\\?(?:.+&)?"+e+"=(.*?)(?:&.*)?$"),n=window.location.toString().match(t);return n?decodeURI(n[1]):""},t.lan=function(){return"cn"}());document.title=s.default.data.title[f];t.i18n=s.default.data},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFocus=t.visibilityChangeEvent=t.subscribeRecord=t.isOver=t.isClear=t.want=t.isMobile=t.getNextType=void 0;var a=n(19),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(1),r=function(){var e=["hidden","webkitHidden","mozHidden","msHidden"];return e=e.filter(function(e){return e in document}),e.length>0&&e[0]}(),s={getNextType:function(){var e=i.blockType.length;return i.blockType[Math.floor(Math.random()*e)]},want:function(e,t){var n=e.xy,a=e.shape,o=a[0].length;return a.every(function(e,a){return e.every(function(e,i){return!(n[1]<0)&&(!(n[1]+o>10)&&(n[0]+a<0||!(n[0]+a>=20)&&(!e||!t[n[0]+a][n[1]+i])))})})},isClear:function(e){var t=[];return e.forEach(function(e,n){e.every(function(e){return!!e})&&t.push(n)}),0!==t.length&&t},isOver:function(e){return e[0].some(function(e){return!!e})},subscribeRecord:function(e){e.subscribe(function(){var t=e.state;t.lock||(t=(0,o.default)(t),t=encodeURIComponent(t),window.btoa&&(t=btoa(t)),window.localStorage.setItem(i.StorageKey,t))})},isMobile:function(){var e=navigator.userAgent,t=/Android (\d+\.\d+)/.test(e),n=e.indexOf("iPhone")>-1,a=e.indexOf("iPod")>-1,o=e.indexOf("iPad")>-1,i=e.indexOf("NokiaN")>-1;return t||n||a||o||i},visibilityChangeEvent:function(){return!!r&&r.replace(/hidden/i,"visibilitychange")}(),isFocus:function(){return!r||!document[r]}},u=s.getNextType,l=s.isMobile,c=s.want,f=s.isClear,d=s.isOver,p=s.subscribeRecord,m=s.visibilityChangeEvent,v=s.isFocus;t.getNextType=u,t.isMobile=l,t.want=c,t.isClear=f,t.isOver=d,t.subscribeRecord=p,t.visibilityChangeEvent=m,t.isFocus=v},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(43),i=a(o),r=n(58),s=a(r),u=n(2),l=n(85),c=a(l),f=n(2),d=n(1),p=n(45),m=a(p),v=n(10);i.default.use(s.default);var h=d.lastRecord&&!isNaN(parseInt(d.lastRecord.clearLines,10))?parseInt(d.lastRecord.clearLines,10):0;h<0&&(h=0);var _=function(){if(!d.lastRecord||!d.lastRecord.cur)return null;var e=d.lastRecord.cur,t={type:e.type,rotateIndex:e.rotateIndex,shape:e.shape,xy:e.xy};return new m.default(t)}(),b=!(!d.lastRecord||void 0===d.lastRecord.drop)&&!!d.lastRecord.drop,x=!(!d.lastRecord||void 0===d.lastRecord.lock)&&!!d.lastRecord.lock,y=d.lastRecord&&Array.isArray(d.lastRecord.matrix)?d.lastRecord.matrix:d.blankMatrix,w=d.lastRecord&&!isNaN(parseInt(d.lastRecord.max,10))?parseInt(d.lastRecord.max,10):0;w<0?w=0:w>d.maxPoint&&(w=d.maxPoint);var k=!d.lastRecord||void 0===d.lastRecord.music||!!d.lastRecord.music;v.hasWebAudioAPI.data||(k=!1);var S=d.lastRecord&&-1!==d.blockType.indexOf(d.lastRecord.next)?d.lastRecord.next:(0,u.getNextType)(),g=!(!d.lastRecord||void 0===d.lastRecord.pause)&&!!d.lastRecord.pause,R=d.lastRecord&&!isNaN(parseInt(d.lastRecord.points,10))?parseInt(d.lastRecord.points,10):0;R<0?R=0:R>d.maxPoint&&(R=d.maxPoint);var C=d.lastRecord&&!isNaN(parseInt(d.lastRecord.speedRun,10))?parseInt(d.lastRecord.speedRun,10):1;(C<1||C>12)&&(C=1);var M=d.lastRecord&&!isNaN(parseInt(d.lastRecord.speedStart,10))?parseInt(d.lastRecord.speedStart,10):1;(M<1||M>12)&&(M=1);var P=d.lastRecord&&!isNaN(parseInt(d.lastRecord.startLines,10))?parseInt(d.lastRecord.startLines,10):0;(P<0||P>10)&&(P=0);var T=!(!d.lastRecord||!d.lastRecord.reset)&&!!d.lastRecord.reset,E={music:k,pause:g,matrix:y,next:S,cur:_,speedStart:M,speedRun:C,startLines:P,clearLines:h,points:R,max:w,reset:T,drop:b,keyboard:{drop:!1,down:!1,left:!1,right:!1,rotate:!1,reset:!1,music:!1,pause:!1},lock:x,focus:(0,f.isFocus)(),speedCondition:"a",sequenceCondition:"1",activeClearLines:0,activeBrisk:1,ifDevMode:!1,totalScore:0,deadCnt:-1,realGameTime:0,realScore:0,briskNum:0,practice_path:"",ifPractice:0,linesCookie:[],opponentScore:0,selfScore:0,leaderboardPath:"0VS0",ifShowCompetitionStatement:!0};t.default=new s.default.Store({state:E,mutations:c.default})},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(94),i=a(o),r=n(19),s=a(r),u=n(3),l=a(u),c=n(2),f=n(1),d=n(10),p=function(e){for(var t=function(e,t){for(var n=parseInt((t-e+1)*Math.random()+e,10),a=[],o=0;o<n;o++)a.push(1);for(var i=0,r=10-n;i<r;i++){var s=parseInt((a.length+1)*Math.random(),10);a.splice(s,0,0)}return a},n=[],a=0;a<e;a++)a<=2?n.push(t(5,8)):a<=6?n.push(t(4,9)):n.push(t(3,9));for(var o=0,i=20-e;o<i;o++)n.unshift(f.blankLine);return n},m={fallInterval:null,realTimeInterval:null,start:function(){d.music.start&&d.music.start();var e=l.default.state;m.dispatchPoints(0),l.default.commit("speedRun",e.speedStart);var t=e.startLines,n=p(t);l.default.commit("matrix",n),l.default.commit("moveBlock",{type:e.next}),l.default.commit("nextBlock",""),m.auto(),m.realTimeInterval=setInterval(function(){l.default.commit("realGameTime",l.default.state.realGameTime+1)},1e3)},auto:function(e){var t=e<0?0:e,n=l.default.state,a=n.cur,o=function e(){n=l.default.state,a=n.cur;var t=a.fall();if((0,c.want)(t,n.matrix))l.default.commit("moveBlock",t),m.fallInterval=setTimeout(e,f.speeds[n.speedRun-1]);else{var o=JSON.parse((0,s.default)(n.matrix)),i=a&&a.shape,r=a&&a.xy;i.forEach(function(e,t){return e.forEach(function(e,n){if(e&&r[0]+t>=0){var a=o[r[0]+t];a[r[1]+n]=1,o[r[0]+t]=a}})}),m.nextAround(o)}};clearTimeout(m.fallInterval),m.fallInterval=setTimeout(o,void 0===t?f.speeds[n.speedRun-1]:t)},nextAround:function(e,t){clearTimeout(m.fallInterval),l.default.commit("lock",!0),l.default.commit("matrix",e),l.default.commit("briskNum",l.default.state.briskNum+1),"function"==typeof t&&t();var n=l.default.state,a=n.activeBrisk+1;if(l.default.commit("activeBrisk",a),n.activeBrisk%30==0)if(n.activeClearLines<=3){var o=Math.max(2,n.speedRun-1);l.default.commit("speedRun",o),l.default.commit("activeClearLines",0),l.default.state.practice_path=l.default.state.practice_path+"m"}else if(n.activeClearLines>=5){var i=Math.min(11,n.speedRun+1);l.default.commit("speedRun",i),l.default.commit("activeClearLines",0),l.default.state.practice_path=l.default.state.practice_path+"a"}else l.default.commit("activeClearLines",0),l.default.state.practice_path=l.default.state.practice_path+"b";return(0,c.isClear)(e)?void(d.music.clear&&d.music.clear()):(0,c.isOver)(e)?(d.music.gameover&&d.music.gameover(),void m.overStart()):void setTimeout(function(){l.default.commit("lock",!1),l.default.commit("moveBlock",{type:l.default.state.next}),l.default.commit("nextBlock",""),m.auto()},100)},focus:function(e){if(l.default.commit("focus",e),!e)return void clearTimeout(m.fallInterval);var t=l.default.state;!t.cur||t.reset||t.pause||m.auto()},pause:function(e){if(l.default.commit("pause",e),e)return void clearTimeout(m.fallInterval);m.auto()},clearLines:function(e,t){var n=t,a=l.default.state,o=JSON.parse((0,s.default)(e));console.log("lines-1:",t),"object"!=(void 0===t?"undefined":(0,i.default)(t))&&(console.log("bug happened, read last lines:",a.linesCookie),t=a.linesCookie,n=t),t.forEach(function(e){o.splice(e,1),o.unshift(f.blankLine)}),l.default.commit("linesCookie",n),l.default.commit("matrix",o),l.default.commit("moveBlock",{type:a.next}),l.default.commit("nextBlock",""),m.auto(),l.default.commit("lock",!1);var r=a.clearLines+t.length;l.default.commit("clearLines",r);var u=l.default.state.points+10*t.length;m.dispatchPoints(u),l.default.commit("totalScore",l.default.state.totalScore+10*t.length),l.default.commit("realScore",l.default.state.realScore+10*t.length);var c=a.activeClearLines+t.length;l.default.commit("activeClearLines",c)},overStart:function(){clearTimeout(m.fallInterval),l.default.commit("lock",!0),l.default.commit("reset",!0),l.default.commit("pause",!1);var e=l.default.state,t=Math.max(2,e.speedRun-1);l.default.commit("speedRun",t),l.default.commit("speedStart2",t),l.default.commit("activeBrisk",1),l.default.commit("activeClearLines",0),l.default.state.practice_path=l.default.state.practice_path+"d",l.default.commit("deadCnt",l.default.state.deadCnt+1),clearInterval(m.realTimeInterval),l.default.commit("realScore",10*Math.floor(.08*l.default.state.realScore))},overEnd:function(){l.default.commit("matrix",f.blankMatrix),l.default.commit("moveBlock",{reset:!0}),l.default.commit("reset",!1),l.default.commit("lock",!1),l.default.commit("clearLines",0)},dispatchPoints:function(e){l.default.commit("points",e),e>0&&e>l.default.state.max&&l.default.commit("max",e)}};t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i={},r=function(e){if((0,o.default)(i).forEach(function(e){clearTimeout(i[e]),i[e]=null}),e.callback){var t=function(){clearTimeout(i[e.key])};if(e.callback(t),!0!==e.once){var n=e.begin||100,a=e.interval||50;!function o(){i[e.key]=setTimeout(function(){n=null,o(),e.callback(t)},n||a)}()}}},s=function(e){clearTimeout(i[e.key]),i[e.key]=null,e.callback&&e.callback()},u=function(){(0,o.default)(i).forEach(function(e){clearTimeout(i[e]),i[e]=null})};t.default={down:r,up:s,clearAll:u}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.music=t.hasWebAudioAPI=void 0;var a=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.oAudioContext||window.msAudioContext,r=t.hasWebAudioAPI={data:!!i&&-1!==location.protocol.indexOf("http")},s=t.music={};!function(){if(r.data){var e="./static/music.mp3",t=new i,n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){t.decodeAudioData(n.response,function(e){var n=function(){var n=t.createBufferSource();return n.buffer=e,n.connect(t.destination),n};s.killStart=function(){s.start=function(){}},s.start=function(){s.killStart(),o.default.state.music},s.clear=function(){o.default.state.music&&n().start(0,0,.889)},s.fall=function(){o.default.state.music&&n().start(0,1.575,.137)},s.gameover=function(){o.default.state.music&&n().start(0,9.107,1.1437)},s.rotate=function(){o.default.state.music&&n().start(0,2.291,2.429-2.291)};var a=0,i=function(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}("msc");s.move=function(){o.default.state.music&&(0===a&&("s"===i?n().start(0,11.5,616.5):"q"===i&&n().start(0,621,1226)),a+=1)}},function(t){window.console&&window.console.error&&(window.console.error("音频: "+e+" 读取错误",t),r.data=!1)})},n.send()}}()},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return c[e]}function i(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}Object.defineProperty(t,"__esModule",{value:!0}),t.getApp=o,t.getUrlParameter=i;var r=n(42),s=a(r),u=n(41),l=a(u),c={App:s.default,App_practice:l.default}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(0)(null,n(177),null,null,null);e.exports=a.exports},function(e,t,n){function a(e){n(146)}var o=n(0)(n(60),n(174),a,null,null);e.exports=o.exports},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(77),i=a(o),r=n(80),s=a(r),u=n(76),l=a(u),c=n(81),f=a(c),d=n(83),p=a(d),m=n(82),v=a(m),h=n(79),_=a(h),b=n(78),x=a(b);t.default={left:i.default,down:l.default,rotate:f.default,right:s.default,space:p.default,r:_.default,p:x.default,s:v.default}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),i=a(o),r=n(91),s=a(r),u=n(92),l=a(u),c=n(1),f=function(){function e(t){if((0,s.default)(this,e),this.type=t.type,t.rotateIndex?this.rotateIndex=t.rotateIndex:this.rotateIndex=0,t.timeStamp?this.timeStamp=t.timeStamp:this.timeStamp=Date.now(),t.shape?this.shape=t.shape:this.shape=c.blockShape[t.type],t.xy)this.xy=t.xy;else switch(t.type){case"I":this.xy=[0,3];break;case"L":case"J":case"Z":case"S":case"O":case"T":this.xy=[-1,4]}}return(0,l.default)(e,[{key:"rotate",value:function(){var e=this.shape,t=[];e.forEach(function(e){return e.forEach(function(n,a){var o=e.length-a-1;void 0===t[o]&&(t[o]=[]),t[o].push(n);var r=[].concat((0,i.default)(t[o]));t[o]=r})});var n=[this.xy[0]+c.origin[this.type][this.rotateIndex][0],this.xy[1]+c.origin[this.type][this.rotateIndex][1]],a=this.rotateIndex+1>=c.origin[this.type].length?0:this.rotateIndex+1;return{shape:t,type:this.type,xy:n,rotateIndex:a,timeStamp:this.timeStamp}}},{key:"fall",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{shape:this.shape,type:this.type,xy:[this.xy[0]+e,this.xy[1]],rotateIndex:this.rotateIndex,timeStamp:Date.now()}}},{key:"right",value:function(){return{shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]+1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp}}},{key:"left",value:function(){return{shape:this.shape,type:this.type,xy:[this.xy[0],this.xy[1]-1],rotateIndex:this.rotateIndex,timeStamp:this.timeStamp}}}]),e}();t.default=f},,,,,,,,,,,,function(e,t,n){function a(e){n(150)}var o=n(0)(n(73),n(179),a,null,null);e.exports=o.exports},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(23),i=a(o),r=n(3),s=a(r),u=n(44),l=a(u),c={37:"left",38:"rotate",39:"right",40:"down",32:"space",83:"s",82:"r",80:"p"},f=void 0,d=(0,i.default)(c).map(function(e){return parseInt(e,10)}),p=function(e){if(!0!==e.metaKey&&-1!==d.indexOf(e.keyCode)){var t=c[e.keyCode];t!==f&&(f=t,l.default[t].down(s.default))}},m=function(e){if(!0!==e.metaKey&&-1!==d.indexOf(e.keyCode)){var t=c[e.keyCode];t===f&&(f=""),l.default[t].up(s.default)}};document.addEventListener("keydown",p,!0),document.addEventListener("keyup",m,!0)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(93),i=a(o),r=n(151),s=a(r),u=n(153),l=a(u),c=n(162),f=a(c),d=n(161),p=a(d),m=n(163),v=a(m),h=n(57),_=a(h),b=n(164),x=a(b),y=n(155),w=a(y),k=n(156),S=a(k),g=n(157),R=a(g),C=n(152),M=a(C),P=n(158),T=a(P),E=n(159),L=a(E),I=n(160),$=a(I),O=n(58),N=n(1),D=n(2),z=n(6),j=a(z),B=(n(14),n(3)),F=a(B);t.default={mounted:function(){this.render(),window.addEventListener("resize",this.resize.bind(this),!0)},data:function(){return{size:{},w:document.documentElement.clientWidth,h:document.documentElement.clientHeight,filling:"",ifDevMode:!1,ifPractice:!1,ifShowLeaderboard:!0}},components:{Decorate:s.default,Guide:l.default,Next:f.default,Music:p.default,Pause:v.default,Number:_.default,Point:x.default,Logo:S.default,Keyboard:w.default,Matrix:R.default,Devpanel:M.default,Mission:T.default,MissionFormal:L.default,MissionFormalNoFeedback:$.default},computed:(0,i.default)({pContent:function(){return this.cur?N.i18n.cleans[N.lan]:N.i18n.startLine[N.lan]},level:function(){return N.i18n.level[N.lan]},nextText:function(){return N.i18n.next[N.lan]}},(0,O.mapState)(["matrix","keyboard","music","pause","next","cur","speedStart","speedRun","startLines","clearLines","points","max","reset","drop","realScore","opponentScore","selfScore","leaderboardPath"])),methods:{render:function(){var e=this,t=0,n=function(){var n=e.w,a=e.h,o=a/n,i=void 0,r={};return o<1.5?i=a/960:(i=n/640,t=(a-960*i)/i/3,r={"padding-top":Math.floor(t)+42+"px","padding-bottom":Math.floor(t)+"px","margin-top":Math.floor(-480-1.5*t)+"px"}),r[N.transform]="scale("+i+")",r}();this.size=n,this.start(),this.filling=t},resize:function(){this.w=document.documentElement.clientWidth,this.h=document.documentElement.clientHeight,this.render()},start:function(){function e(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}if(D.visibilityChangeEvent&&document.addEventListener(D.visibilityChangeEvent,function(){j.default.focus((0,D.isFocus)())},!1),N.lastRecord){if(N.lastRecord.cur&&!N.lastRecord.pause){var t=this.$store.state.speedRun,n=N.speeds[t-1]/2;n=t<N.speeds[N.speeds.length-1]?N.speeds[N.speeds.length-1]:t,j.default.auto(n)}N.lastRecord.cur||j.default.overStart()}else j.default.overStart();["a","b","c","d","e","f"].indexOf(e("c"))>-1&&(this.$store.state.speedCondition=e("c")),e("se").length>=1&&(this.$store.state.sequenceCondition=e("se")),this.$store.commit("speedStart2",4),"1"===e("dev")&&(this.ifDevMode=!0,F.default.state.ifDevMode=!0),"1"===e("pra")&&(this.ifPractice=!0,F.default.state.ifPractice=1),"c"===e("c")&&(this.ifShowLeaderboard=!1)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.default={name:"Decorate",computed:{title:function(){return a.i18n.title[a.lan]},github:function(){return a.i18n.github[a.lan]},QRTitle:function(){return a.i18n.QRNotice[a.lan]},QRCode:function(){return a.i18n.QRCode[a.lan]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(14),n(3)),o=function(e){return e&&e.__esModule?e:{default:e}}(a);(new Date).valueOf();t.default={name:"Devpanel",data:function(){return{ifPanel:!0}},computed:{},mounted:function(){},methods:{skipPractice:function(){function e(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}var t=e("ext")+"_"+o.default.state.realGameTime+"_"+o.default.state.briskNum,n=e("c"),a=e("seq"),i="../../pre/guide-2.html?c="+n+"&seq="+a+"&ext="+t;"1"===e("dev")&&(i+="&dev=1"),setTimeout(function(){window.location.href=i},600)},skipFormalGame:function(){function e(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}var t=e("c"),n=e("seq"),a=e("f"),i="";i="../../pre/guide-3.html?c="+t+"&seq="+n+"&f="+a+"&ext="+e("ext")+"_xxx"+o.default.state.realScore,"1"===e("dev")&&(i+="&dev=1"),window.open(i,"_self")},addSpeed:function(){this.$store.commit("speedRun",Math.min(12,this.$store.state.speedRun+1))},subSpeed:function(){this.$store.commit("speedRun",Math.max(1,this.$store.state.speedRun-1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(2);t.default={name:"Guide",data:function(){return{isMobile:(0,o.isMobile)()}},computed:{linkTitle:function(){return a.i18n.linkTitle[a.lan]},github:function(){return a.i18n.github[a.lan]},QRCode:function(){return a.i18n.QRCode[a.lan]},QRTitle:function(){return a.i18n.QRNotice[a.lan]},QRSrc:function(){return window.location.protocol+"//raw.githubusercontent.com/Binaryify/vue-tetris/master/static/qr.jpeg"}},mounted:function(){window.addEventListener("resize",this.resize.bind(this),!0)},methods:{resize:function(){this.isMobile=(0,o.isMobile)()}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1);t.default={props:["active","color","size","top","left","label","position","arrow"]}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),i=a(o),r=n(154),s=a(r),u=n(1),l=n(3),c=a(l),f=n(44),d=a(f);t.default={props:["filling"],data:function(){return{fillingNum:0}},watch:{$props:{deep:!0,handler:function(e){this.fillingNum=e.filling+20}}},computed:{keyboard:function(){return this.$store.state.keyboard},ifDevMode2:function(){return this.$store.state.ifDevMode},rotation:function(){return u.i18n.rotation[u.lan]},labelLeft:function(){return u.i18n.left[u.lan]},labelRight:function(){return u.i18n.right[u.lan]},labelDown:function(){return u.i18n.down[u.lan]},labelDropSpace:function(){return u.i18n.drop[u.lan]+" (SPACE)"},labelResetR:function(){return u.i18n.reset[u.lan]+"(R)"},labelSoundS:function(){return u.i18n.sound[u.lan]+"(S)"},labelPauseP:function(){return u.i18n.pause[u.lan]+"(P)"}},mounted:function(){var e=this,t={},n={};document.addEventListener("touchstart",function(e){e.preventDefault&&e.preventDefault()},!0),document.addEventListener("touchend",function(e){e.preventDefault&&e.preventDefault()},!0),document.addEventListener("gesturestart",function(e){e.preventDefault()}),document.addEventListener("mousedown",function(e){e.preventDefault&&e.preventDefault()},!0),(0,i.default)(d.default).forEach(function(a){e.$refs["dom_"+a].$el.addEventListener("mousedown",function(){!0!==t[a]&&(d.default[a].down(c.default),n[a]=!0)},!0),e.$refs["dom_"+a].$el.addEventListener("mouseup",function(){if(!0===t[a])return void(t[a]=!1);d.default[a].up(c.default),n[a]=!1},!0),e.$refs["dom_"+a].$el.addEventListener("mouseout",function(){!0===n[a]&&d.default[a].up(c.default)},!0),e.$refs["dom_"+a].$el.addEventListener("touchstart",function(){t[a]=!0,d.default[a].down(c.default)},!0),e.$refs["dom_"+a].$el.addEventListener("touchend",function(){d.default[a].up(c.default)},!0)})},components:{Vbutton:s.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o={timeout:null};t.default={props:["cur","reset"],data:function(){return{style:"r1",display:"none"}},watch:{$props:{deep:!0,handler:function(e,t){this.animate(e),(-1!==[t.cur,e.cur].indexOf(!1)&&t.cur!==e.cur||t.reset!==e.reset)&&this.animate(e)}}},computed:{titleCenter:function(){return a.i18n.titleCenter[a.lan]}},beforeMount:function(){this.animate(this.$props)},methods:{animate:function(e){var t=this,n=e.cur,a=e.reset;if(clearTimeout(o.timeout),this.style="r1",this.display="none",n||a)return void(this.display="none");var i="r",r=0,s=function(e,t){e&&(o.timeout=setTimeout(e,t))},u=function(e){s(function(){t.display="block",e&&e()},150)},l=function(e){s(function(){t.display="none",e&&e()},150)},c=function(e,n,a){s(function(){t.style=i+2,s(function(){t.style=i+1,e&&e()},a)},n)},f=function e(n){s(function(){t.style=i+4,s(function(){if(t.style=i+3,r++,10!==r&&20!==r&&30!==r||(i="r"===i?"l":"r"),r<40)return void e(n);t.style=i+1,n&&s(n,4e3)},100)},100)},d=function e(){r=0,c(function(){c(function(){c(function(){t.style=i+2,f(e)},150,150)},150,150)},1e3,1500)};u(function(){l(function(){u(function(){l(function(){u(function(){d()})})})})})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),i=a(o),r=n(19),s=a(r),u=n(2),l=n(1),c=n(6),f=a(c),d=setTimeout;t.default={props:["cur","reset","propMatrix"],watch:{$props:{handler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1];this.propsChange(e)},deep:!0}},render:function(){var e=arguments[0],t=void 0;return t=this.isOver?this.overState:this.getResult(),e("div",{class:"matrix"},[t.map(function(t,n){return e("p",null,[t.map(function(t,n){return e("b",{class:(1===t?"c":"")+(2===t?"d":"")},[])})])})])},data:function(){return{clearLines:!1,animateColor:2,isOver:!1,overState:null}},methods:{propsChange:function(e){var t=this,n=(0,u.isClear)(e.propMatrix),a=e.reset;setTimeout(function(){t.clearLines=n,t.isOver=a},0),n&&!this.clearLines&&this.clearAnimate(n),n||!a||this.isOver||this.over(e)},getResult:function(e){e||(e=this.$props);var t=e.cur,n=t&&t.shape,a=t&&t.xy,o=JSON.parse((0,s.default)(e.propMatrix)),i=this.clearLines;if(i){var r=this.animateColor;i.forEach(function(e){o[e]=[r,r,r,r,r,r,r,r,r,r]})}else n&&n.forEach(function(e,t){return e.forEach(function(e,n){if(e&&a[0]+t>=0){var r=o[a[0]+t],s=void 0;s=1!==r[a[1]+n]||i?1:2,r[a[1]+n]=s,o[a[0]+t]=r}})});return o},clearAnimate:function(){var e=this,t=function(t){d(function(){e.animateColor=0,d(function(){e.animateColor=2,"function"==typeof t&&t()},20)},20)};t(function(){t(function(){t(function(){d(function(){f.default.clearLines(e.propMatrix,e.clearLines)},20)})})})},over:function(e){var t=this,n=this.getResult(e);this.overState=[].concat((0,i.default)(n));for(var a=function(e){if(e<=19)n[19-e]=l.fillLine;else{if(!(e>=20&&e<=39))return void f.default.overEnd();n[e-20]=l.blankLine}t.overState=[].concat((0,i.default)(n))},o=0;o<=40;o++)d(a.bind(null,o),40*(o+1))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(14),n(3));!function(e){e&&e.__esModule}(a);t.default={name:"Mission",data:function(){return{}},computed:{},mounted:function(){},methods:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(14),n(3)),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={name:"MissionFormal",data:function(){function e(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}var t="",n="",a="排行榜数据每1分钟更新一次";return"0"===e("cp")?(t="非竞争环节",n="在本环节，你有随机可能性获得20元额外奖励"):(t="竞争环节",n="在本环节，你们二人中最终得分更高者可获得20元额外奖励"),console.log("ifff",o.default.state.ifPractice),"1"===e("pra")&&(a="练习阶段中对手分数只是案例数据"),{misiionTitle:t,missionWord:n,bottomHint:a}},computed:{score_diff:function(){return o.default.state.selfScore===o.default.state.opponentScore?"":Math.abs(o.default.state.selfScore-o.default.state.opponentScore)},competition_status:function(){return o.default.state.selfScore>o.default.state.opponentScore?"领先":o.default.state.selfScore<o.default.state.opponentScore?"落后":"持平对手"},fen:function(){return o.default.state.selfScore===o.default.state.opponentScore?"":"分"}},mounted:function(){},methods:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(14),n(3)),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default={name:"MissionFormalNoFeedback",data:function(){function e(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}var t="",n="",a="排行榜数据每1分钟更新一次";return"0"===e("cp")?(t="非竞争环节",n="在本环节，你有随机可能性获得20元额外奖励"):(t="竞争环节",n="在本环节，你们二人中最终得分更高者可获得20元额外奖励"),console.log("ifff",o.default.state.ifPractice),"1"===e("pra")&&(a="练习阶段中对手分数只是案例数据"),{misiionTitle:t,missionWord:n,bottomHint:a}},computed:{score_diff:function(){return o.default.state.selfScore===o.default.state.opponentScore?"":Math.abs(o.default.state.selfScore-o.default.state.opponentScore)},competition_status:function(){return o.default.state.selfScore>o.default.state.opponentScore?"领先":o.default.state.selfScore<o.default.state.opponentScore?"落后":"持平对手"},fen:function(){return o.default.state.selfScore===o.default.state.opponentScore?"":"分"}},mounted:function(){},methods:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["data"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(28),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=n(1),r={I:[1,0],L:[0,0],J:[0,0],Z:[0,0],S:[0,0],O:[0,1],T:[0,0]},s=[[0,0,0,0],[0,0,0,0]];t.default={props:["data"],mounted:function(){this.build(this.data)},data:function(){return{block:s}},watch:{$props:{deep:!0,handler:function(e){this.build(e.data)}}},methods:{build:function(e){var t=i.blockShape[e],n=s.map(function(e){return[].concat((0,o.default)(e))});t.forEach(function(t,a){t.forEach(function(t,o){t&&(n[a+r[e][0]][o+r[e][1]]=1)})}),this.block=n}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e<10?("0"+e).split(""):(""+e).split("")},o={timeInterval:null,time_count:null};t.default={watch:{$props:{deep:!0,handler:function(e){this.render()}}},props:{propTime:{type:Boolean},number:{type:Number},length:{type:Number,default:6}},data:function(){return{time_count:"",time:new Date,data:[]}},destroyed:function(){this.propTime&&clearTimeout(o.timeInterval)},methods:{render:function(){if(this.propTime){var e=this.time,t=a(e.getHours()),n=a(e.getMinutes()),o=e.getSeconds()%2,i=t.concat(o?"d":"d_c",n);return void(this.data=i)}for(var r=(""+this.number).split(""),s=0,u=this.length-r.length;s<u;s++)r.unshift("n");this.data=r}},beforeMount:function(){var e=this;if(this.length||(this.length=6),this.propTime){!function t(){var n=+o.timeInterval;o.timeInterval=setTimeout(function(){e.time=new Date,e.time_count=n,e.render(),t()},1e3)}()}},mounted:function(){this.render()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={timeout:null};t.default={props:["data"],mounted:function(){this.setShake(this.data)},data:function(){return{showPause:!1}},watch:{$props:{deep:!0,handler:function(e){this.setShake(e.data)}}},methods:{setShake:function(e){var t=this;e&&!a.timeout&&(a.timeout=setInterval(function(){t.showPause=!t.showPause},250)),!e&&a.timeout&&(clearInterval(a.timeout),this.showPause=!1,a.timeout=null)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(57),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=a.i18n.point[a.lan],s=(a.i18n.highestScore[a.lan],a.i18n.lastRound[a.lan],{timeout:null});t.default={props:["cur","point","max","realScore"],mounted:function(){this.onChange(this.$props)},components:{Number:i.default},data:function(){return{label:"",number:0}},watch:{$props:{deep:!0,handler:function(e){this.onChange(e)}}},methods:{onChange:function(e){var t=this,n=e.cur,a=e.point,o=(e.max,e.realScore);if(clearInterval(s.timeout),n)this.label=r,this.number=o;else{0!==a?function(){t.label=r,t.number=o}():(this.label=r,this.number=o)}}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=a(o),r=n(2),s=n(7),u=a(s),l=n(6),c=a(l),f=n(10),d=function(e){e.commit("key_down",!0),null!==e.state.cur?u.default.down({key:"down",begin:40,interval:40,callback:function(t){var n=e.state;if(!n.lock){f.music.move&&f.music.move();var a=n.cur;if(null!==a){if(n.pause)return void c.default.pause(!1);var o=a.fall();if((0,r.want)(o,n.matrix))e.commit("moveBlock",o),c.default.auto();else{var s=JSON.parse((0,i.default)(n.matrix)),u=a.shape,l=a.xy;u.forEach(function(e,t){return e.forEach(function(e,n){if(e&&l[0]+t>=0){var a=s[l[0]+t];a[l[1]+n]=1,s[l[0]+t]=a}})}),c.default.nextAround(s,t)}}}}}):u.default.down({key:"down",begin:200,interval:100,callback:function(){if(!e.state.lock){var t=e.state;if(!t.cur){f.music.move&&f.music.move();var n=t.startLines;n=n-1<0?10:n-1,e.commit("startLines",n)}}}})},p=function(e){e.commit("key_down",!1),u.default.up({key:"down"})};t.default={down:d,up:p}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(7),r=a(i),s=n(6),u=a(s),l=n(1),c=n(10),f=function(e){e.commit("key_left",!0),r.default.down({key:"left",begin:200,interval:100,callback:function(){var t=e.state;if(!t.lock){c.music.move&&c.music.move();var n=t.cur;if(null!==n){if(t.pause)return void u.default.pause(!1);var a=n.left(),i=l.delays[t.speedRun-1],r=void 0;(0,o.want)(a,t.matrix)?(a.timeStamp+=parseInt(i,10),e.commit("moveBlock",a),r=a.timeStamp):(n.timeStamp+=parseInt(parseInt(i,10)/1.5,10),e.commit("moveBlock",n),r=n.timeStamp);var s=l.speeds[t.speedRun-1]-(Date.now()-r);u.default.auto(s)}else{var f=t.speedStart;f=f-1<1?6:f-1,e.commit("speedStart",f)}}}})},d=function(e){e.commit("key_left",!1),r.default.up({key:"left"})};t.default={down:f,up:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=a(o),r=n(6),s=a(r),u=function(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}("dev"),l=function(){},c=function(){};"1"===u&&(c=function(e){e.commit("key_pause",!0),i.default.down({key:"p",once:!0,callback:function(){var t=e.state;if(!t.lock){var n=t.cur,a=t.pause;null!==n?s.default.pause(!a):s.default.start()}}})},l=function(e){e.commit("key_pause",!1),i.default.up({key:"p"})}),t.default={down:c,up:l}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),i=a(o),r=n(6),s=a(r),u=function(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}("dev"),l=function(){},c=function(){};"1"===u&&(c=function(e){e.commit("key_reset",!0),e.state.lock||(null!==e.state.cur?i.default.down({key:"r",once:!0,callback:function(){s.default.overStart()}}):i.default.down({key:"r",once:!0,callback:function(){e.state.lock||s.default.start()}}))},l=function(e){e.commit("key_reset",!1),i.default.up({key:"r"})}),t.default={down:c,up:l}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(7),r=a(i),s=n(6),u=a(s),l=n(1),c=n(10),f=function(e){e.commit("key_right",!0),r.default.down({key:"right",begin:200,interval:100,callback:function(){var t=e.state;if(!t.lock){c.music.move&&c.music.move();var n=t.cur;if(null!==n){if(t.pause)return void u.default.pause(!1);var a=n.right(),i=l.delays[t.speedRun-1],r=void 0;(0,o.want)(a,t.matrix)?(a.timeStamp+=parseInt(i,10),e.commit("moveBlock",a),r=a.timeStamp):(n.timeStamp+=parseInt(parseInt(i,10)/1.5,10),e.commit("moveBlock",n),r=n.timeStamp);var s=l.speeds[t.speedRun-1]-(Date.now()-r);u.default.auto(s)}else{var f=t.speedStart;f=f+1>6?1:f+1,e.commit("speedStart",f)}}}})},d=function(e){e.commit("key_right",!1),r.default.up({key:"right"})};t.default={down:f,up:d}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=n(7),r=a(i),s=n(6),u=a(s),l=n(10),c=function(e){e.commit("key_rotate",!0),null!==e.state.cur?r.default.down({key:"rotate",once:!0,callback:function(){var t=e.state;if(!t.lock){t.pause&&u.default.pause(!1);var n=t.cur;if(null!==n){l.music.rotate&&l.music.rotate();var a=n.rotate();(0,o.want)(a,t.matrix)&&e.commit("moveBlock",a)}}}}):r.default.down({key:"rotate",begin:200,interval:100,callback:function(){if(!e.state.lock){l.music.move&&l.music.move();var t=e.state;if(!t.cur){var n=t.startLines;n=n+1>10?0:n+1,e.commit("startLines",n)}}}})},f=function(e){e.commit("key_rotate",!1),r.default.up({key:"rotate"})};t.default={down:c,up:f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(a),i=function(e){e=e.replace(/[]/,"[").replace(/[]/,"[").replace(/[]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),a=n.exec(window.parent.location.href);return null==a?"":a[1]}("dev"),r=function(){},s=function(){};"1"===i&&(s=function(e){e.commit("key_music",!0),e.state.lock||o.default.down({key:"s",once:!0,callback:function(){e.state.lock||e.commit("music",!e.state.music)}})},r=function(e){e.commit("key_music",!1),o.default.up({key:"s"})}),t.default={down:s,up:r}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),i=a(o),r=n(2),s=n(7),u=a(s),l=n(6),c=a(l),f=n(10),d=function(e){e.commit("key_drop",!0),u.default.down({key:"space",once:!0,callback:function(){var t=e.state;if(!t.lock){var n=t.cur;if(null!==n){if(t.pause)return void c.default.pause(!1);f.music.fall&&f.music.fall();for(var a=0,o=n.fall(a);(0,r.want)(o,t.matrix);)o=n.fall(a),a++;var s=JSON.parse((0,i.default)(t.matrix));o=n.fall(a-2),e.commit("moveBlock",o);var u=o.shape,l=o.xy;u.forEach(function(e,t){return e.forEach(function(e,n){if(e&&l[0]+t>=0){var a=s[l[0]+t];a[l[1]+n]=1,s[l[0]+t]=a}})}),e.commit("drop",!0),setTimeout(function(){e.commit("drop",!1)},100),c.default.nextAround(s)}else c.default.start()}}})},p=function(e){e.commit("key_drop",!1),u.default.up({key:"space"})};t.default={down:d,up:p}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var o=n(43),i=a(o),r=n(42),s=a(r),u=n(41),l=(a(u),n(3)),c=a(l),f=n(14);n(1),n(59);n(2);i.default.config.productionTip=!1,new i.default({el:"#root",render:function(e){return e(s.default)},store:c.default}),i.default.config.devtools=!1;var d=(new Date).valueOf();console.log(d);if(c.default.state.ifPractice?(setTimeout(function(){c.default.state.opponentScore=c.default.state.realScore+100,c.default.state.selfScore=c.default.state.realScore,c.default.state.ifShowCompetitionStatement=!1,setTimeout(function(){c.default.state.ifShowCompetitionStatement=!0},30)},6e4),setTimeout(function(){c.default.state.opponentScore=0,c.default.state.selfScore=c.default.state.realScore,c.default.state.ifShowCompetitionStatement=!1,setTimeout(function(){c.default.state.ifShowCompetitionStatement=!0},30)},12e4)):setInterval(function(){var e=c.default.state.realScore,t=0,n=0,a=.5;a=e<=200?.5:e<=400?.6:.7,"a"===(0,f.getUrlParameter)("c")?(n=Math.floor(e*a/10),t=Math.floor(.8*e/10),e>=0&&(n=Math.max(n,0)),n=Math.min(n,t)):(n=Math.floor(1.2*e/10),t=Math.floor(e*(2-a)/10),e>=0&&(n=Math.max(n,0)),t=Math.max(n,t)),c.default.state.opponentScore=10*Math.floor(Math.random()*(t-n+1)+n),c.default.state.selfScore=e,c.default.state.leaderboardPath+="-"+e+"VS"+c.default.state.opponentScore,c.default.state.ifShowCompetitionStatement=!1,setTimeout(function(){c.default.state.ifShowCompetitionStatement=!0},50)},59880),1===c.default.state.ifPractice)setTimeout(function(){var e=(0,f.getUrlParameter)("ext")+"_"+c.default.state.realGameTime+"_"+c.default.state.briskNum,t=(0,f.getUrlParameter)("c"),n=(0,f.getUrlParameter)("seq"),a="../../pre/guide-2.html?c="+t+"&seq="+n+"&ext="+e;"1"===(0,f.getUrlParameter)("dev")&&(a+="&dev=1"),window.location.href=a},18e4);else{var p=(0,f.getUrlParameter)("c"),m=(0,f.getUrlParameter)("seq"),v=(0,f.getUrlParameter)("f");setTimeout(function(){var e="",t=(0,f.getUrlParameter)("ext")+"_xxx"+c.default.state.realScore;e="../../pre/guide-3.html?c="+p+"&seq="+m+"&f="+v+"&ext="+t,"1"===(0,f.getUrlParameter)("dev")&&(e+="&dev=1"),window.location.href=e},48e4)}console.log(c.default.state.speedCondition)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(45),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r={nextBlock:function(e,t){t||(t=(0,a.getNextType)()),e.next=t},moveBlock:function(e,t){e.cur=!0===t.reset?null:new i.default(t)},speedStart:function(e,t){},speedStart2:function(e,t){e.speedStart=t},speedRun:function(e,t){e.speedRun=t},startLines:function(e,t){e.startLines=0},matrix:function(e,t){e.matrix=t},lock:function(e,t){e.lock=t},clearLines:function(e,t){e.clearLines=t},points:function(e,t){e.points=t},max:function(e,t){e.max=t},reset:function(e,t){e.reset=t},drop:function(e,t){e.drop=t},pause:function(e,t){e.pause=t},music:function(e,t){e.music=t},focus:function(e,t){e.focus=t},key_drop:function(e,t){e.keyboard.drop=t},key_down:function(e,t){e.keyboard.down=t},key_left:function(e,t){e.keyboard.left=t},key_right:function(e,t){e.keyboard.right=t},key_rotate:function(e,t){e.keyboard.rotate=t},key_reset:function(e,t){e.keyboard.reset=t},key_music:function(e,t){e.keyboard.music=t},key_pause:function(e,t){e.keyboard.pause=t},activeClearLines:function(e,t){e.activeClearLines=t},activeBrisk:function(e,t){e.activeBrisk=t},totalScore:function(e,t){e.totalScore=t},deadCnt:function(e,t){e.deadCnt=t},realGameTime:function(e,t){e.realGameTime=t},realScore:function(e,t){e.realScore=t},briskNum:function(e,t){e.briskNum=t},ifPractice:function(e,t){e.ifPractice=t},linesCookie:function(e,t){e.linesCookie=t},opponentScore:function(e,t){e.opponentScore=t},selfScore:function(e,t){e.selfScore=t},leaderboardPath:function(e,t){e.leaderboardPath=t}};t.default=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){function a(e){n(138)}var o=n(0)(n(61),n(167),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(147)}var o=n(0)(n(62),n(175),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(149)}var o=n(0)(n(63),n(178),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(140)}var o=n(0)(n(64),n(169),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(142)}var o=n(0)(n(65),n(171),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(139)}var o=n(0)(n(66),n(168),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(145)}var o=n(0)(n(67),null,a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(144)}var o=n(0)(n(68),n(173),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(141)}var o=n(0)(n(69),n(170),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(143)}var o=n(0)(n(70),n(172),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(137)}var o=n(0)(n(71),n(166),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(136)}var o=n(0)(n(72),n(165),a,null,null);e.exports=o.exports},function(e,t,n){function a(e){n(148)}var o=n(0)(n(74),n(176),a,null,null);e.exports=o.exports},function(e,t,n){var a=n(0)(n(75),n(180),null,null,null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"next"},e._l(e.block,function(t,a){return n("div",e._l(t,function(e,t){return n("b",{class:e?"c":""})}))}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bg music",class:e.data?"":"c"})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"decorate"},[e._m(0),e._v(" "),n("h1",[e._v(e._s(e.title))])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"topBorder"},[n("span",{staticClass:"l mr",staticStyle:{width:"40px"}}),e._v(" "),n("span",{staticClass:"l mr"}),e._v(" "),n("span",{staticClass:"l mr"}),e._v(" "),n("span",{staticClass:"l mr"}),e._v(" "),n("span",{staticClass:"l mr"}),e._v(" "),n("span",{staticClass:"r ml",staticStyle:{width:"40px"}}),e._v(" "),n("span",{staticClass:"r ml"}),e._v(" "),n("span",{staticClass:"r ml"}),e._v(" "),n("span",{staticClass:"r ml"}),e._v(" "),n("span",{staticClass:"r ml"})])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo",style:"display:"+e.display},[n("div",{staticClass:"bg dragon",class:e.style}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.titleCenter)}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"button",class:e.color+" "+e.size,style:"top:"+e.top+"px;left:"+e.left+"px"},[n("i",{class:{active:e.active}}),e._v(" "),n("em",{directives:[{name:"show",rawName:"v-show",value:"s1"===e.size,expression:"size==='s1'"}],style:"transform:"+e.arrow+" scale(1,2)"}),e._v(" "),n("span",{class:e.position?"position":""},[e._v("\n    "+e._s(e.label)+"\n  ")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"leaderboard"},[n("div",{staticClass:"main"},[n("div",{staticClass:"result"},[e._m(0),e._v(" "),n("div",{staticClass:"compare"},[e._m(1),e._v(" "),n("h3",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.ifShowCompetitionStatement,expression:"$store.state.ifShowCompetitionStatement"}],staticStyle:{"font-size":"28px"},attrs:{id:"status_statement"}},[e._v("你当前"+e._s(e.competition_status)+" "+e._s(e.score_diff)+" "+e._s(e.fen))]),e._v(" "),n("div",{staticClass:"score"},[e._m(2),e._v(" "),n("div",{staticClass:"num",attrs:{id:"self_point"}},[e._v(e._s(e.$store.state.selfScore))]),e._v(" "),n("div",{staticClass:"num",attrs:{id:"opponent_point"}},[e._v(e._s(e.$store.state.opponentScore))])])]),e._v(" "),n("h6",{staticStyle:{color:"yellow","font-weight":"bold","font-size":"24px"},attrs:{id:"bottom_hint"}},[e._v(e._s(e.bottomHint))]),e._v(" "),n("div",{staticStyle:{clear:"both"}})])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tpic"},[n("img",{attrs:{src:"static/icon01.png",alt:""}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"ele_p"},[n("span",{staticClass:"ele_span"},[n("em",[n("img",{staticClass:"yellow",attrs:{src:"static/icon02.png",alt:""}})]),n("i",{staticStyle:{"font-size":"20px"}},[e._v("你")])]),e._v(" "),n("b",{staticClass:"ele_b",attrs:{id:"vs"}},[e._v("vs")]),e._v(" "),n("span",{staticClass:"ele_span"},[n("i",{staticStyle:{"font-size":"20px"}},[e._v("对手")]),n("em",[n("img",{staticClass:"blue",attrs:{src:"static/icon02.png",alt:""}})])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("em",{staticClass:"icon"},[n("i",[e._v("vs")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"keyboard",style:"margin-top:"+e.fillingNum+"px"},[n("vbutton",{ref:"dom_rotate",attrs:{color:"blue",size:"s1",top:0,left:374,label:e.rotation,arrow:"translate(0, 63px)",position:!0,active:e.keyboard.rotate}}),e._v(" "),n("vbutton",{ref:"dom_down",attrs:{color:"blue",size:"s1",top:180,left:374,label:e.labelDown,arrow:"translate(0,-71px) rotate(180deg)",active:e.keyboard.down}}),e._v(" "),n("vbutton",{ref:"dom_left",attrs:{color:"blue",size:"s1",top:90,left:284,label:e.labelLeft,arrow:"translate(60px, -12px) rotate(270deg)",active:e.keyboard.left}}),e._v(" "),n("vbutton",{ref:"dom_right",attrs:{color:"blue",size:"s1",top:90,left:464,label:e.labelRight,arrow:"translate(-60px, -12px) rotate(90deg)",active:e.keyboard.right}}),e._v(" "),n("vbutton",{ref:"dom_space",attrs:{color:"blue",size:"s0",top:70,left:52,label:e.labelDropSpace,active:e.keyboard.drop}}),e._v(" "),n("vbutton",{directives:[{name:"show",rawName:"v-show",value:e.ifDevMode2,expression:"ifDevMode2"}],ref:"dom_r",attrs:{color:"red",size:"s2",top:0,left:196,label:e.labelResetR,active:e.keyboard.reset}}),e._v(" "),n("vbutton",{directives:[{name:"show",rawName:"v-show",value:e.ifDevMode2,expression:"ifDevMode2"}],ref:"dom_s",attrs:{color:"green",size:"s2",top:0,left:106,label:e.labelSoundS,active:e.keyboard.music}}),e._v(" "),n("vbutton",{directives:[{name:"show",rawName:"v-show",value:e.ifDevMode2,expression:"ifDevMode2"}],ref:"dom_p",attrs:{color:"green",size:"s2",top:0,left:16,label:e.labelPauseP,active:e.keyboard.pause}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"leaderboard"},[n("div",{staticClass:"main"},[n("div",{staticClass:"result"},[n("div",{staticClass:"compare"},[n("p",{staticClass:"ele_p"},[n("span",{staticClass:"ele_span"},[n("em",[n("img",{staticClass:"yellow",attrs:{src:"static/icon02.png",alt:""}})]),n("i",{staticStyle:{"font-size":"20px"}},[e._v("你")])]),e._v(" "),n("b",{staticClass:"ele_b",attrs:{id:"vs"}},[e._v("vs")]),e._v(" "),n("span",{staticClass:"ele_span"},[n("i",{staticStyle:{"font-size":"20px"}},[e._v("对手")]),n("em",[n("img",{staticClass:"blue",attrs:{src:"static/icon02.png",alt:""}})])])]),e._v(" "),n("h3",{staticStyle:{"font-size":"32px"},attrs:{id:"status_statement"}},[e._v("竞争阶段")])])]),e._v(" "),n("div",{staticStyle:{clear:"both"}})])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"goal-hint"},[n("h2",{staticStyle:{"font-size":"26px","font-weight":"bold"}},[e._v("规则说明")]),e._v(" "),n("p",{staticStyle:{"font-size":"24px"}},[e._v("- 下方向键加速，空格键直接掉落到底部")]),e._v(" "),n("p",{staticStyle:{"font-size":"24px"}},[e._v("- 每消除1行得10分，死亡后分数扣除20%")]),e._v(" "),n("p",{staticStyle:{"font-size":"24px"}},[e._v("- 排行榜每1分钟变化1次，变化后会闪动")]),e._v(" "),n("br"),e._v(" "),n("h3",{staticStyle:{"font-size":"24px"}},[e._v("请全程佩戴耳机")])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",style:e.size},[n("div",{staticClass:"rect",class:e.drop?"drop":""},[n("Decorate"),e._v(" "),n("div",{staticClass:"screen"},[n("div",{staticClass:"panel"},[n("Matrix",{attrs:{propMatrix:e.matrix,cur:e.cur,reset:e.reset}}),e._v(" "),n("Logo",{attrs:{cur:!!e.cur,reset:e.reset}}),e._v(" "),n("div",{staticClass:"state"},[n("Point",{attrs:{cur:!!e.cur,max:e.max,point:e.points,realScore:e.realScore}}),e._v(" "),n("p",[e._v(e._s(e.nextText))]),e._v(" "),n("Next",{attrs:{data:e.next}}),e._v(" "),n("div",{staticClass:"bottom"},[n("Music",{attrs:{data:e.music}}),e._v(" "),n("Pause",{attrs:{data:e.pause}})],1)],1)],1)])],1),e._v(" "),n("Keyboard",{attrs:{filling:e.filling}}),e._v(" "),n("Guide"),e._v(" "),e.ifDevMode?n("Devpanel"):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.ifPanel,expression:"ifPanel"}],staticClass:"dev-hint"},[n("h3",[e._v("Debug仪表盘")]),e._v(" "),n("button",{on:{click:e.skipPractice}},[e._v("跳过练习")]),e._v(" "),n("button",{on:{click:e.skipFormalGame}},[e._v("跳过正式")]),e._v(" "),n("p",[e._v("调速："),n("button",{staticClass:"speedControl",on:{click:e.addSpeed}},[e._v("+")]),e._v(" "),n("button",{staticClass:"speedControl",on:{click:e.subSpeed}},[e._v("-")])]),e._v(" "),n("p",[e._v("当前速度值："+e._s(e.$store.state.speedRun))]),e._v(" "),n("p",[e._v("当前所属条件："+e._s(e.$store.state.speedCondition))]),e._v(" "),n("p",[e._v("缓存消除行："+e._s(e.$store.state.activeClearLines))]),e._v(" "),n("p",[e._v("缓存累计方块数："+e._s(e.$store.state.activeBrisk))]),e._v(" "),n("p",[e._v("练习期间累计得分："+e._s(e.$store.state.totalScore))]),e._v(" "),n("p",[e._v("死亡次数："+e._s(e.$store.state.deadCnt))]),e._v(" "),n("p",[e._v("真实游戏时长："+e._s(e.$store.state.realGameTime))]),e._v(" "),n("p",[e._v("真实得分："+e._s(e.$store.state.realScore))]),e._v(" "),n("p",[e._v("累计方块数："+e._s(e.$store.state.briskNum))]),e._v(" "),n("p",[e._v("练习路径："+e._s(e.$store.state.practice_path))])])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"bg pause",class:{c:e.showPause}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",style:e.size},[n("h2",[e._v("我是练习页")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}]})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"number"},e._l(e.data,function(e,t){return n("span",{class:"bg s_"+e})}))},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.label))]),e._v(" "),n("Number",{attrs:{number:e.number}})],1)},staticRenderFns:[]}},,,function(e,t){e.exports={lan:["cn","en","fr","fa"],default:"cn",data:{title:{cn:"俄罗斯方块",en:"T E T R I S",fr:"T E T R I S",fa:"خانه سازی"},github:{cn:"GitHub",en:"GitHub",fr:"GitHub",fa:"گیت‌هاب"},linkTitle:{cn:"查看源代码",en:"View data source",fr:"Afficher la source des données",fa:"مشاهده سورس پروژه"},QRCode:{cn:"二维码",en:"QR code",fr:"QR code",fa:"کیوآر کد"},QRNotice:{cn:"扫一扫用手机玩",en:"Scan QR code to play with a mobile phone",fr:"Numérisez le code QR pour jouer avec un téléphone mobile",fa:"اسکن کیوآر کد برای بازی در تلفن همراه"},titleCenter:{cn:"按空格键开始游戏","cn-origin":"俄罗斯方块<br />TETRIS<br />点击空格开始游戏",en:"TETRIS",fr:"TETRIS",fa:"خانه سازی"},point:{cn:"得分",en:"Point",fr:"Score",fa:"امتیاز"},highestScore:{cn:"最高分",en:"Max",fr:"Max",fa:"حداکثر"},lastRound:{cn:"上轮得分",en:"Last Round",fr:"Dernier Tour",fa:"آخرین دور"},cleans:{cn:"消除行",en:"Cleans",fr:"Lignes",fa:"پاک کرد"},level:{cn:"级别",en:"Level",fr:"Difficulté",fa:"سطح"},startLine:{cn:"起始行",en:"Start Line",fr:"Ligne Départ",fa:"خط شروع"},next:{cn:"下一个",en:"Next",fr:"Prochain",fa:"بعدی"},pause:{cn:"暂停",en:"Pause",fr:"Pause",fa:"مکث"},sound:{cn:"音效",en:"Sound",fr:"Sonore",fa:"صدا"},reset:{cn:"重玩",en:"Reset",fr:"Réinitialiser",fa:"ریست"},rotation:{cn:"旋转",en:"Rotation",fr:"Rotation",fa:"چرخش"},left:{cn:"左移",en:"Left",fr:"Gauche",fa:"چپ"},right:{cn:"右移",en:"Right",fr:"Droite",fa:"راست"},down:{cn:"下移",en:"Down",fr:"Bas",fa:"پایین"},drop:{cn:"掉落",en:"Drop",fr:"Tomber",fa:"سقوط"}}}}],[84]);
//# sourceMappingURL=app.a5747b92e27f8a13fb2b.js.map